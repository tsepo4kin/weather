(function(t){function e(e){for(var n,r,c=e[0],s=e[1],l=e[2],d=0,h=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==i[s]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/weather/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("input-location",{on:{addNewLocation:t.addNewLocation}}),a("v-main",[a("v-container",[a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{lg:"9"}},[a("div",{staticClass:"d-flex flex-wrap"},t._l(t.locations,(function(e){return a("weather-card",{key:e.title,staticClass:"mt-5 mx-auto",attrs:{locationData:e},on:{deleteLocation:t.deleteLocation,wrongLocation:t.deleteLocation}})})),1)])],1),a("v-row",[a("v-col")],1)],1)],1)],1)},o=[],r=(a("4de4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grey lighten-2"},[a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{lg:"9"}},[a("h2",{staticClass:"text-center my-3"},[t._v("location input")]),a("v-text-field",{attrs:{solo:"","hide-details":"true",clearable:"",label:"Volzhskiy"},model:{value:t.cityTitle,callback:function(e){t.cityTitle=e},expression:"cityTitle"}}),a("v-btn",{staticClass:"my-3 d-block mx-auto green accent-2",attrs:{width:"300"},on:{click:t.addNewLocation}},[t._v("add")])],1)],1)],1)}),c=[],s={data:function(){return{cityTitle:null}},methods:{autoComplete:function(){},addNewLocation:function(){this.$emit("addNewLocation",this.cityTitle),this.cityTitle=null}}},l=s,u=a("2877"),d=a("6544"),h=a.n(d),w=a("8336"),f=a("62ad"),p=a("0fd9"),m=a("8654"),v=Object(u["a"])(l,r,c,!1,null,null,null),g=v.exports;h()(v,{VBtn:w["a"],VCol:f["a"],VRow:p["a"],VTextField:m["a"]});var b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loader?a("div"):a("v-card",{staticClass:"mx-4",attrs:{width:"350"}},[a("v-card-title",{class:t.calcColor},[t._v(" "+t._s(t.locationData.title)+" ")]),a("v-card-text",[a("span",{staticClass:"title"},[t._v(" Temp: "+t._s(t.calcTemp)+"° ")]),a("v-icon",{staticClass:"float-right",staticStyle:{"font-size":"150px"}},[t._v(" "+t._s(t.calcIcon)+" ")]),a("span",{staticClass:"title d-block"},[t._v(" Feels like: "+t._s(t.calcFeelsLike)+"° ")]),a("span",{staticClass:"title d-block"},[a("v-icon",[t._v(" mdi-water-percent ")]),t._v(": "+t._s(this.weatherData.main.humidity)+"% ")],1),a("span",{staticClass:"title d-block"},[a("v-icon",[t._v(" mdi-weight ")]),t._v(": "+t._s(t.calcPressure)+"-mm ")],1),a("span",{staticClass:"title d-block"},[a("v-icon",[t._v(" mdi-weather-windy ")]),t._v(": Direction "+t._s(t.calcWindDirection)+", speed: "+t._s(this.weatherData.wind.speed)+" m/s ")],1),this.weatherData.rain?a("span",{staticClass:"title d-block"},[a("v-icon",[t._v(" mdi-water ")]),t._v(": Rain volume for last "+t._s(t.calcRainTime)+": "+t._s(t.calcRainVolume)+" mm ")],1):t._e(),this.weatherData.snow?a("span",{staticClass:"title d-block"},[a("v-icon",[t._v(" mdi-snowflake ")]),t._v(": Snow volume for last "+t._s(t.calcSnowTime)+": "+t._s(t.calcSnowVolume)+" mm ")],1):t._e()],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-auto red",on:{click:t.deleteLocation}},[t._v(" delete ")])],1)],1)],1)},D=[],_=(a("b64b"),a("07ac"),a("96cf"),a("1da1")),y=(a("99af"),a("d3b7"),"8789428acc9f37da5119fe09be97baee"),C=function(t){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(y)).then((function(t){if(t.ok)return t.json();throw new Error("Error in request")})).catch((function(t){return console.log(t),"error"}))},x={props:{locationData:{require:!0}},created:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C(t.locationData.title);case 2:t.weatherData=e.sent,"error"==t.weatherData?(alert("Ошибка запроса"),t.$emit("wrongLocation",t.locationData.title)):t.loader=!1;case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{weatherData:null,loader:!0}},methods:{deleteLocation:function(){this.$emit("deleteLocation",this.locationData.title)}},computed:{calcTemp:function(){return Math.round(this.weatherData.main.temp-273.15)},calcFeelsLike:function(){return Math.round(this.weatherData.main.feels_like-273.15)},calcPressure:function(){return Math.round(this.weatherData.main.pressure/1.333)},calcColor:function(){return this.weatherData.rain?"grey lighten-1":this.weatherData.snow?"white":"light-blue lighten-3"},calcIcon:function(){return this.weatherData.rain?"mdi-weather-pouring":this.weatherData.snow?"mdi-weather-snowy":0===this.weatherData.clouds.all?"mdi-white-balance-sunny":this.weatherData.clouds.all<=70?"mdi-weather-partly-cloudy":this.weatherData.clouds.all>70?"mdi-cloud":null},calcWindDirection:function(){return this.weatherData.wind.deg>=157.5&&this.weatherData.wind.deg<202.5?"to South":this.weatherData.wind.deg>=202.5&&this.weatherData.wind.deg<247.5?"to SouthWest":this.weatherData.wind.deg>=247.5&&this.weatherData.wind.deg<292.5?"to West":this.weatherData.wind.deg>=292.5&&this.weatherData.wind.deg<337.5?"to NorthWest":this.weatherData.wind.deg>=337.5||this.weatherData.wind.deg<22.5?"to North":this.weatherData.wind.deg>=22.5&&this.weatherData.wind.deg<67.5?"to NorthEast":this.weatherData.wind.deg>=67.5&&this.weatherData.wind.deg<112.5?"to East":this.weatherData.wind.deg>=112.5&&this.weatherData.wind.deg<157.5?"to SouthEast":"error in calcs"},calcRainTime:function(){return Object.keys(this.weatherData.rain)[0]},calcRainVolume:function(){return Object.values(this.weatherData.rain)[0]},calcSnowTime:function(){return Object.keys(this.weatherData.snow)[0]},calcSnowVolume:function(){return Object.values(this.weatherData.snow)[0]}}},k=x,O=a("b0af"),L=a("99d9"),S=a("132d"),V=Object(u["a"])(k,b,D,!1,null,null,null),T=V.exports;h()(V,{VBtn:w["a"],VCard:O["a"],VCardActions:L["a"],VCardText:L["b"],VCardTitle:L["c"],VIcon:S["a"]});var j={name:"App",components:{InputLocation:g,WeatherCard:T},created:function(){this.locations=JSON.parse(localStorage.getItem("weatherLocations"))||[]},data:function(){return{locations:[{title:"Moscow"}]}},methods:{addNewLocation:function(t){this.locations.push({title:t}),localStorage.setItem("weatherLocations",JSON.stringify(this.locations))},deleteLocation:function(t){this.locations=this.locations.filter((function(e){return e.title!=t})),localStorage.setItem("weatherLocations",JSON.stringify(this.locations))}}},N=j,M=a("7496"),P=a("a523"),R=a("f6c4"),E=Object(u["a"])(N,i,o,!1,null,null,null),I=E.exports;h()(E,{VApp:M["a"],VCol:f["a"],VContainer:P["a"],VMain:R["a"],VRow:p["a"]});var $=a("2f62");n["a"].use($["a"]);var W=new $["a"].Store({state:{},mutations:{},actions:{},modules:{}}),J=a("f309");n["a"].use(J["a"]);var F=new J["a"]({});n["a"].config.productionTip=!1,new n["a"]({store:W,vuetify:F,render:function(t){return t(I)}}).$mount("#app")}});
//# sourceMappingURL=app.98d10e63.js.map